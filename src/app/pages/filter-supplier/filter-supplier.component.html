<div class="flex flex-column p-3 md:p-8">
  <div class="flex justify-content-between align-content-center">
    <div class="flex flex-column gap-2">
      <h2 class="text-3xl font-bold m-0">Fornecedores</h2>
      <p class="text-md font-bold text-gray-600 m-0">2 encontrados</p>
    </div>
    <p-button
      class="hidden md:block"
      label="Cadastrar novo"
      icon="pi pi-plus"
      (click)="openModal()"
    ></p-button>
    <p-button
      class="block md:hidden"
      icon="pi pi-plus"
      (click)="openModal()"
    ></p-button>
  </div>
  <p-table
    [value]="suppliers.content"
    [paginator]="true"
    [rows]="5"
    [showCurrentPageReport]="true"
    [tableStyle]="{ 'min-width': '50rem' }"
    currentPageReportTemplate=""
    [rowsPerPageOptions]="[5, 10, 20]"
    styleClass="p-datatable-gridlines"
    class="pt-8"
  >
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 25%">Nome</th>
        <th style="width: 25%">Data de atualização</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-supplier>
      <tr>
        <td>{{ supplier.nome }}</td>
        <td>{{ supplier.dataAtualizacao | date : "dd/MM/yyyy" }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-dialog
  header="Cadastrar fornecedor"
  [(visible)]="visibleModal"
  [modal]="true"
  styleClass="md:w-6"
  [draggable]="false"
  [resizable]="false"
>
  <form [formGroup]="form" (submit)="saveSupplier()">
    <div class="field p-fluid mb-3">
      <input
        pInputText
        id="nome"
        placeholder="Nome do fornecedor"
        formControlName="nome"
        aria-describedby="nome-help"
        class="w-full"
      />
    </div>

    <div class="flex justify-content-end">
      <p-button class="" label="Salvar" type="submit"></p-button>
    </div>
  </form>
</p-dialog>
<p-toast></p-toast>
